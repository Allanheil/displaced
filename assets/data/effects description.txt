1. effect_table - таблица хранения основных эффектов. формат:
	- type - тип эффекта. влияет на хранение, обработку эффекта и на применение атомарных эффектов
		- static - статический эффект. применяется по получению. откатывается при удалении. может быть неявным триггером
		- oneshot - не хранится, применяется в момент получения. не откатывается. 99% что неявный триггер
		- trigger - явные триггерные эффекты. хранятся в массиве триггреров, применяются при срабатывании при выполнении условий. не откатываются (соответственно, статические бонусы требуется выдавать либо как temp_effect, либо вместе с условием удаления).
		-*(неявные триггеры)* - эффекты, прописанные в скиллах, всегда трактуются как триггеры, имеющие поле trigger. неявные TR_HIT триггеры обрабатываются непосредственно скиллом и разбрасывают атомарные эффекты в соответствии с атрибутом target (то есть, точно так же, как и аналогичные триггеры, хранимые в персонажах), там type можно вообще опустить. в случае же с TR_CAST триггерами на текущий момент (это стоит поправить потом, но требует внимательного переписывания оч дохрена кода, так как потребует смены параметров методов, я и так целый день чистил хвосты от постоянной смены типов параметров в рантайме) они без изменений (и без проверки условий) передаются на обработку в кастера (соответственно, срабатывание этого триггера эквивалентно выдаче кастеру эффекта и требует какого-то из типов для обработки)
		- area - эффекты по площади. effects содержит эффекты, которые применяются непосредственно на носитель эффекта (из прописанного сейчас - только иконку статуса-источника). !!сейчас эффект не применяется на самого источника (на всякий случай, поскольку смена места вызывает отключение эффекта, что может привести к нежелательным результатам, например к смерти, если отключение эффекта как-либо уменьшает хиты. технически, для остальных персонажей эти результаты всё равно возможны, но ситуация, когда смена позиции сохраняет территориальный бонус достаточно редка)(а также на случай, когда такое поведение желательно, например, прикрытие щитом либо себя (один скилл), либо сзадистоящего (второй скилл))
	- trigger - условие срабатывания триггера (явного или неявного), обязателен для них
	- conditions - массив условий. обязателен для большинства триггеров (явно или неявно объявленных)
	- effects - массив атомарных эффектов. обязательный атрибут. атомарные атрибуты можно писать как явно, так и кодами из таблицы atomic
	- area - тип области для area эффектов
	- value - реальный эффект (основной, не атомарный) area эффектов
2. atomic - таблица для хранения именованых атомарных эффектов. атомарные эффекты всегда имеют родительский эффект. формат атомарных эффектов;
	- type - тип эффекта (кроме skill, caster, target)
		- skill - указатель на то, что value эффекта основывается на каком-либо параметре скила. только для эффектов с value атрибутом (иначе крашнется). только для эффектов с тригером на скилл или эффектов самих скиллов (иначе ничего не сделает)
		- target, caster - аналогично, устанавливает value эффекта по параметру персонажа. type = 'caster' допустим для любых триггеров
		- stat_s - устанавливает стат (stat) в значение (value), не подлежит откату (для барьеров, в основном)
		- stat_m/param_m - умножает значение стата (stat) на множитель (value) в течение действия родительского эффекта, откатывается (param_m - для эффектов, меняющих параметры активации скилла, очевидно откатывать их не надо)
		- stat/param_a - добавляет к стату (stat) значение (value) на время активности родительского эффекта, откатывается (param_a - для эффектов, меняющих параметры активации скила, откатывать не надо)
		- stat_once - добавляет к стату (stat) значение (value), не откатывается (лечение, восстановление маны итд)
		- effect - добавляет эффект (effect) (к целевому объекту (target), если используется с триггерами на скилл или эффектами скилла, иначе - к объекту-источнику родительского эффекта). условно откатывается (если выдан статическим эффектом, для триггеров требуется явное удаление)
		- temp_effect - добавляет временный эффект (effect) на длительность (duration) с стеком до stack раз (к целевому объекту (target), если используется с триггерами на скилл или эффектами скилла, иначе - к объекту-источнику родительского эффекта) !!! стэкабельность текущего эффекта считается стекабельностью всех таких эффектов. если мы кинули стан на 3 хода со стеком 2, а потом то же стан на 1 ход со стеком 1, то эффект перепишется, а не добавится. поэтому разнородные эффекты должны иметь разные имена
		- block_effect - на длительность родительского эффекта блокирует все копии эффекта (effect). !! если за время длительности блока источник заблокированного эффекта кончился (был временным или привязывался к доступной в бою активации-деактивации), то эффект всё равно вернётся, использовать с осторожностью
		- delete_effect - удаляет все копии эффекта. не откатывается (использовать для удаления временных эффектов с неизвестной длительностью или как альтернативное завершение эффекта)
		- timer - через delay ходов добавляет эффект (effect)
		- damage - наносит value урона источником source (целевому объекту (target), если используется с триггерами на скилл или эффектами скилла, иначе - объекту-источнику родительского эффекта)
	- new_type - реальный тип эффекта для type = 'skill' (или 'caster', 'target'), только неоткатываемые типы (в принципе, как для любого атомарного эффекта триггера)
	- target - получатель эффекта для родительских эффектов, допускающих варианты (то есть, для триггеров на скиллы и эффектов скиллов)
	- stat
	- effect
	- value
	- mul - множитель параметра-значения в type = 'skill' (или 'caster', 'target')
	- duration
	- stack
	- delay
	- source
	- buff
3. buffs - таблица для хранения данных об отображении эффектов (возможно расширение функционала, так как пока не используем)
	- icon - иконка (отображения пока нет, поэтому пока непонятно, писать ли ссылками на imagedata или грузить прямо на месте или комбинировать)
	- description - описание для тултипов (статическая или ссылка на перевод)