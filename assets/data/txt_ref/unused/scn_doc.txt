Строка, обособленная символами '=' обозначает директиву
Аргументы после названия директивы разделяются пробелами
Строка, начинающаяся с '#' является комментарием и скипается
Все остальное является репликами:
Реплика с персонажем:
Char - Replica
Реплика рассказчика:
Replica

Вначале следует определить персонажей внутри директив CHARDEF_BEGIN/END

=CHARDEF_BEGIN=
# Определение цвета текста всех персоажей после этой директивы
# В теории можно определять персонажей по цветовым "блокам", чтобы
# не прописывать всем отдельно цвет текста
=COLOR #ffffff=

# Простой персонаж, при необходимости использовать пробелы
# в его именовании (Source) их следует заменить на "_"
# Именование персонажа также используется как название файла портрета
# если явно не переопределено
CharAlias - Char_Name

# Персонаж с определенным именованием и определенным портретом
CharAlias - Char_Name CharPortraitName

# Персонаж с определенным именованием и определенным портретом,
# да еще и с явным цветом текста
CharAlias - Char_Name CharPortraitName #rrggbb

# Персонаж с вариацией эмоций (например, Em(Happy))
# названия эмоций будут прибавляться к названию портрета
# Первая эмоция в списке будет использоваться как дефолтная,
# не требуя своего указания, т.е. CharAlias(Emotion1) не валиден
# вместо него нужно просто использовать CharAlias, но портрет будет
# использовать Emotion1
CharAlias[Emotion1, Emotion2, Emotion3] - Char_Name CharPortraitName
# или
CharAlias[Emotion1, Emotion2, Emotion3] - Char_name
# или
CharAlias[Emotion1, Emotion2, Emotion3] - Char_name #rrggbb

=CHARDEF_END=

В дальнейшем на любую реплику применяется split(" - "), и если
нулевой индекс меньше максимальной возможной длины элиаса персонажа
и он находится в множестве элиасов персонажей, то это определяется
как реплика персонажа, не рассказчика
Таким образом можно смело использовать символ " - " в репликах рассказчика


Теперь можно писать сцены
Название сцены обособлено символами '**'
Дальше используются реплики персонажей
**scene_name**
Ar - blahblah
Em(Happy) - blahblahblah
Em - blahblahblah
The Kingdom of Blahblah has been at blah for the last few blahturies...

А также директивы:
=ABG vid_res_name_1 vid_res_name_2(optional)=
Выставить анимированный фон на ресурс vid_res_name_1, на чем плеер зациклится
При наличии vid_res_name_2, сначала сыграет vid_res_name_1, затем произойдет
зацикливание на vid_res_name_2

ресурсы будут искаться в res://assets/abg/vid_res_name/vid_res_name_*.ogv
Конкретно в случае анимированных фонов они должны иметь постфикс "_number",
для того, чтобы можно было складывать анимации в отдельные папки

=BG bg_res_name secs(optional)=
Выставить фон на ресурс bg_res_name, который будет искаться в
res://assets/images/bg/bg_res_name.png
Все ресурсы могут включать в себя "/" если они находятся в подпапках
с корнем res://assets/images/bg, например для эпизодических фонов:
=BG scenes/rose_baby_1=
При наличии secs, происходит плавная смена фона длительностью в secs

=BLACKFADE secs(optional)=
=BLACKUNFADE secs(optional)=
Фейд/анфейд черного экрана длительностью в secs при наличии, либо в 0.5

=BLACKON=
=BLACKOFF=
Грубое включение/выключение черного экрана

=BLACKTRANS secs(optional)=
Переход черного экрана длительностью в secs при наличии, либо в 0.5

=CHOICE chstring=
Создание выбора из строки chstring, варианты в которой нужно разделить символом "|"
Например, Allow|Refuse|Test создаст три варианта, после которых last_choice
будет равен 0, 1 и 2 соответственно (это нужно использовать в связке с SKIP)

=DECISION dec_name=
Добавлени dec_name в список принятых решений для EventSystem.
dec_name играет роль тэга с любым названием, который в EventSystem
может являться триггером в директиве dec

=DELAY secs=
Выставление задержи в secs

=GUI_FULL=
=GUI_HUDE=
=GUI_INSIDE=
=GUI_NORMAL=
смена соответсвующих режимов GUI

=MUSIC music_res_name=
Выставление музыки на ресурс music_res_name

=MUSIC_STOP=
Стоп музыки

=SHAKE_SCREEN secs(optional)=
=SHAKE_SPRITE secs(optional)=
Тряска экрана/спрайта длительностью в secs при наличии, либо в 0.2

=SKIP ifindex lcount=
Скип lcount линий при last_choice == ifindex
(last_choice по умолчанию равен -1)

=SOUND sound_res_name=
Проигрывание звука из ресурса sound_resname

=SPRITE sprite_res_name=
Выставление спрайта на ресурс sprite_res_name

=SPRITE_FADE/UNFADE secs(optional)=
Фейд/анфейд спрайта длительностью в secs при наличии, либо в 0.5

=SPRITE_HIDE=
Выставление спрайта на null (его скрытие)

=STOP=
Стоп директива, при создании карты сцен номер ее строки прописывается по
ключу stop, завершает текущую сцену

=WHITE=
Эффект оргазма
